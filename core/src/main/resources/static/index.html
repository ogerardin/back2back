<!DOCTYPE html>
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<head>
    <title>Back2back</title>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">

    <script src="https://unpkg.com/vue@2.5.2/dist/vue.js"></script>
    <script src="https://unpkg.com/vue-resource@1.3.4/dist/vue-resource.js"></script>
</head>
<body>

    <div class="container">
        <h1>Backup Sets</h1>
        <div id="setsElement">
            <table class="table">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Source</th>
                    <th>Target</th>
                    <th>Status</th>
                </tr>
                </thead>
                <tbody>
                <tr v-for="s in backupSets">
                    <td><a v-bind:href="'backupSet.html#/' + s.id">{{s.id}}</a></td>
                    <td>{{s.backupSource.id}}<br>
                        {{s.backupSource._class}}<br>
                        {{s.backupSource.path}}</td>
                    <td>{{s.backupTarget.id}}<br>
                        {{s.backupTarget._class}}</td>
                    <td>{{s.status}}
                        <div v-if="s.toDoCount!=0">
                            {{s.toDoCount}} to do ({{s.toDoSize}} bytes)
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <div style="display: flex">
            <h1 style="float: left">Sources</h1>
            <div style="display: flex; align-items: center">
                <a style="margin-left: 10px" href="sources.html">Manage</a>
            </div>
        </div>
        <div style="clear: both" id="sourcesElement">
            <table>
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Type</th>
                    <th>Description</th>
                    <th>Enabled</th>
                </tr>
                </thead>
                <tbody>
                <tr v-for="s in sources">
                    <td>{{s.id}}</td>
                    <td>{{s._class}}</td>
                    <td>{{s.description}}</td>
                    <td>
                        <img v-if="s.enabled='true'" src="img/green.png" height="24">
                        <img v-else src="img/red.png" height="24">
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <br>
        <div style="display: flex">
            <h1 style="float: left">Targets</h1>
            <div style="display: flex; align-items: center">
                <a style="margin-left: 10px" href="targets.html">Manage</a>
            </div>
        </div>
        <div style="clear: both" id="targetsElement">
            <table>
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Type</th>
                    <th>Description</th>
                    <th>Enabled</th>
                </tr>
                </thead>
                <tbody>
                <tr v-for="t in targets">
                    <td>{{t.id}}</td>
                    <td>{{t._class}}</td>
                    <td>{{t.description}}</td>
                    <td>
                        <div v-if="t.enabled"><img src="img/green.png" height="24"></div>
                        <div v-else><img src="img/red.png" height="24"></div>
                    </td>
                </tr>
                </tbody>
            </table>


    <!--
        <h1>File upload</h1>
        <div>
            <form method="POST" enctype="multipart/form-data" action="/upload">
                <table>
                    <tr><td>File to upload:</td><td><input type="file" name="file" /></td></tr>
                    <tr><td></td><td><input type="submit" value="Upload" /></td></tr>
                </table>
            </form>
        </div>
    -->

        <script src="js/app.js"></script>

    </div>
</body>
</html>